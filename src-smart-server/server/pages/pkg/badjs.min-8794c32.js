define("badjs",function(n,t,r){"use strict";!function(e,o){"function"==typeof define&&define.amd?define(["badjs-report"],o):"object"==typeof t?r.exports=o(n("badjs-report")):e.catchError=o(e.badjs)}(void 0,function(n){function t(n){if(!i(n)||n.__try)return n;if(n.__tryer)return n.__tryer;var t=function(){try{return n.apply(this,arguments)}catch(t){c(t)}};return n.__tryer=t,t.__try=n,t.__proto__=n,t.__tryer=void 0,t}function r(){return[].slice.call(arguments).map(function(n){return i(n)?t(n):n})}function e(){return[].slice.call(arguments).map(function(n){return i(n)&&n.__tryer?n.__tryer:n})}function o(n){return function(t){if(!i(t)||t.__filting)return t;var r=function(){var r=n.apply(this,arguments);return t.apply(this,r)};return r.__filting=t,r.__proto__=t,r}}var i=function(n){return"function"==typeof n},u=function(n,t,r){for(var e=t.split(/\s+/),o=0,i=e.length;i>o;o++){var u=n[o];n[o]=function(){var n=r.apply(this,arguments)||arguments;return u.apply(this,n)}}},a=function(n,t,r){for(var e=t.split(/\s+/),o=0,i=e.length;i>o;o++){var u=n[o];u&&(n[o]=u=r.call(this,u))}},c=function(t){var r;if(!t._caught){var e;r?clearTimeout(r):(e=window.onerror,window.onerror=function(){}),r=setTimeout(function(){window.onerror=e,e=null,r=null},50),n.push(n.processStackMsg(t)),t._caught=!0}throw t};return u(XMLHttpRequest.prototype,"send",function(){this.onreadystatechange&&(this.onreadystatechange=t(this.onreadystatechange))}),window.WebSocket&&u(WebSocket.prototype,"send",function(){for(var n=this,r=["onmessage","onclose","onerror"],e=0,o=r.length;o>e;e++)n[e]&&(n[e]=t(n[e]))}),u(window,"setTimeout setInterval",r),a(window,"define require",o(r)),a(window,"Jquery Zepto",function(n){return n&&n.fn&&(a(n.fn,"on bind",o(r)),a(n.fn,"off unbind",o(e))),n}),window.badjs=n,n})});;define("badjs-report",function(e,r,n){"use strict";!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof r?n.exports=t():e.badjs=t()}(void 0,function(){function e(e){try{if(e.stack){var n=e.stack.match("https?://[^\n]+");n=n?n[0]:"";var t=n.match(":(\\d+):(\\d+)"),o=r(e);return t||(t=[0,0,0]),{msg:o,rowNum:t[1],colNum:t[2],target:n.replace(t[0],"")}}return e.name&&e.message&&e.description?{msg:JSON.stringify(e)}:e}catch(i){return e}}function r(e){var r=e.stack.replace(/\n/g,"").split(/\bat\b/).slice(0,5).join("@").replace(/\?[^:]+/gi,""),n=e.toString();return r.indexOf(n)<0&&(r=n+"@"+r),r}function n(e,r){var n=[],t=[],o=[];if(u(e)){e.level=e.level||l.level;for(var i in e){var c=e[i];if(!a(c)){if(u(c))try{c=JSON.stringify(c)}catch(s){c="[badjs detect value stringify error] "+s.toString()}o.push(i+":"+c),n.push(i+"="+encodeURIComponent(c)),t.push(i+"["+r+"]="+encodeURIComponent(c))}}}return[t.join("&"),o.join(","),n.join("&")]}function t(e){var r=[];if(l.submit)l.submit(e);else{var n=new Image;r.push(n),n.src=e}}function o(e){var r=[],o=0;if(l.report){for(;s.length;){var u=!1,a=s.shift(),c=n(a,r.length);if(i(l.ignore,"array"))for(var f=0,p=l.ignore.length;p>f;f++){var m=l.ignore[f];if(i(m,"regexp")&&m.test(c[1])||i(m,"function")&&m(a,c[1])){u=!0;break}}u||(l.combo?r.push(c[0]):t(l.report+c[2]+"&_t="+ +new Date),l.onReport&&l.onReport(l.id,a))}var g=r.length;if(g){var d=function(){clearTimeout(o),t(l.report+r.join("&")+"&count="+g+"&_t="+ +new Date),o=0,r=[]};e?d():o||(o=setTimeout(d,l.delay))}}}function i(e,r){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===r}function u(e){return e&&i(e,"object")}function a(e){return null===e||!e&&!i(e,"number")}var c=c||window,s=[],l={id:0,url:"//badjs2.qq.com/badjs",combo:!0,ext:{},level:4,ignore:[],random:1,delay:1e3,submit:null},f=c.onerror;c.onerror=function(e,n,t,o,i){return"Script error."!==e||n?void setTimeout(function(){var u={};if(o=o||window.event&&window.event.errorCharacter||0,u.url=n,u.rowNum=t,u.colNum=o,i&&i.stack)u.msg=r(i);else if(arguments.callee){for(var a=[],s=arguments.callee.caller,l=3;s&&--l>0&&(a.push(s.toString()),s!==s.caller);)s=s.caller;a=a.join(","),u.msg=a||e}p.push(u),f&&f.apply(c,arguments)},0):!0};var p={push:function(r){return Math.random()>=l.random?p:(s.push(u(r)?e(r):{msg:r}),o(!1),p)},report:function(e){return e&&p.push(e),o(!0),p},info:function(e){return e?(u(e)?e.level=2:e={msg:e,level:2},p.push(e),p):p},debug:function(e){return e?(u(e)?e.level=1:e={msg:e,level:1},p.push(e),p):p},processStackMsg:e,init:function(e){if(u(e))for(var r in e)l[r]=e[r];return l.report=l.url+"?id="+l.id+"&from="+encodeURIComponent(location.href)+"&ext="+JSON.stringify(l.ext)+"&",p},__onerror__:c.onerror};return p})});